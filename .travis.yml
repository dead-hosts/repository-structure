env:
  global:
    - secure: Tdwa24RX4Cnl8GpRLRA5cOz1ntbTDTEB8jpY8HD81lVomTfPMSUZLe6hUDIlpTsQdgWD7Oh8GW0P7GwQaZaAMwIbNEAOXg9ZQ7+Pz9u9Pp4p/nvEFm23zsPUN/PP4qQtPdWQgOk501MOG7+ihg/mLbGwxcGcEeWrcf3YBgJhZevKhKNCDIdLcEhpvXkvHoApeJF4U4xSvKBrkowPbn4gvLWVjluIFhQQMSu34TZqr2qNPBeARP7oGv7pWrndU96mENWocrf5iNaqJfDQMjrwew2hbZN2/oFtxgtzqtHPqQOuKotYgdiXpYRKzjI7vQShW2gG8+oHpsbUI/lmjOGkBEFaxN6kexhx636JOke0z0kZ3jqV4wlGMnKeG6ZqbHn3mLVj8Isk6RjPK2FRnkRt556Whn1o0QLJ8ymOTEBIr80nUJZguqZ3AZCq7s0Ec59k5nBrrMx3Uk4pWCCu4tV1oZaebh/XTX347qKWmYlcHmNv6NB2aHMqNzwIOFufVuDllRy+OuHoYOva7qFcV+X4wkD+1EWG/PRxz6xm61lr0kXUv8rpifA/OHtgjsbV4aG22C9TRqH0R977Z5x5UP6xZKaWvyCBhIgTHoLopD3xkb3MHvT5X4EU+hbYh7XlZIHyEOzoLqS36PTIsCxHRIK2ogt2+m2ZOagk8MVJ9Dyr1Vs=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/repository-structure
    - GIT_BRANCH: dev
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py
  matrix:
    - PYTHON_VERSION="3.7.3"

language: generic
sudo: required
os:
  - linux

addons:
  apt:
    packages:
      - dos2unix

install:
  - export PATH="${HOME}/miniconda/bin:${PATH}"
  - wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
  - bash miniconda.sh -b -p ${HOME}/miniconda
  - hash -r
  - conda config --set always_yes yes --set changeps1 no
  - conda update -q conda
  - conda create -q -n launcher-environment python="${PYTHON_VERSION}"
  - source activate launcher-environment
  - python -VV
  - pip --version
  - pip install dead-hosts-launcher

script:
  - dead_hosts_launcher

notifications:
  email:
    recipients:
      - dead-hosts@funilrys.com
    on_success: never
    on_failure: always
