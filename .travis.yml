env:
  global:
    - secure: U4VRmhk9XIMHWguG1b8C3ryNSZBBALf5SmAMxdx854DC1YvpGTBes0vlvJI/NDmdGXlgms0lvPf4kC/Xeu8wMh6QqSUIwjZbzo0g01iQ1vUox/IEWpagQzjbJg8IokqldJFJxL4xXf0VGxLs5yriJocnzkv+BHz9a3SRFZEVo187gBeNENza612l95D3Zkfkd5tEygHiTSDL8kyc2s5rJp2esQQjCZCbzCTdRNS98KSEQ+oiRaICt7SXSV2Z/V6lEewhOnTLlIHBTQYnoffNqX6bXWSnJSJyQTjtuvgnTA6CPZO6WbIpZvmXw2Crq8jTHzIfBAPfgExqTOiV9eMIU9V46fBOLh7NdhAM/zsLcmJiFvWvn5Vt+KyGn4XoItdwbQkNa4zV7nXzjKBbdjsR3v1bMAlQlHIy7ppcq2XV+Ub+TOmuDiIo2M07tg4DxPXOapzjIpASIupqFAjQ2uF8n0nZEG2W2n1gdKDT/PnuvmXtOlz97I9wLdLofbRSZ5eWoQ/xDdLZ5GxO+Rm2x0e+MN60pVUQ86ZOgYJwaF5CG3Ew5ukCn4BO84UIxNzDd7Vu35WbVP7pFdEw2cYWzdU8AxKcbnVgzMOmfZWRAE5BgVCI89xXuqZGffetHYvFRkoQ9Z+BQu4PI0If9V665TiEaplH4FNs57uiNLzkXAh3QH8=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/add.2o7Net_git_FadeMind
    - GIT_BRANCH: master
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py

dist: xenial
sudo: required

language: python

python:
  - "3.7"

matrix:
  fast_finish: true

cache:
  - pip

addons:
  apt:
    packages:
      - dos2unix

install:
  - pip3 install --upgrade pip
  - pip3 install requests

before_script:
  - if [[ ! -f .administrators ]]; then wget "${UPDATE_ME_LOCATION}" -o /dev/null -O update_me.py && chmod +x update_me.py; else echo "update_me not downloaded :)"; fi
  - if [[ ! -f .administrators ]]; then wget "${ADMIN_LOCATION}" -o /dev/null -O admin.py && chmod +x admin.py; else echo "admin not downloaded :)"; fi

script:
  - python3 update_me.py

notifications:
  on_success: change
  on_failure: always
